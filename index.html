<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Teacher Timetables</title>
<style>
  body{font-family:Arial,sans-serif;margin:0}
  section{padding:20px;page-break-after:always}
  h2{margin:0 0 10px;font-size:16px}
  table{border-collapse:collapse;width:100%}
  th,td{border:1px solid #ccc;padding:4px 6px;text-align:center;font-size:12px}
  th{background:#d7dde8} td{background:#fffbe8}
  td.day{background:#d9f0ff;font-weight:600;width:120px;text-align:left}
</style>
</head>
<body>
<div id="root">Loading timetable…</div>

<script>
const DAYS = ["Monday","Tuesday","Wednesday","Thursday","Friday"];
fetch('teacher_schedules.json')
  .then(r=>r.json())
  .then(db=>{
     const root=document.getElementById('root'); root.innerHTML='';
     Object.entries(db).forEach(([name,{blocks,days}])=>{
         const sec=document.createElement('section');
         sec.innerHTML = `<h2>NAMA GURU: ${name}</h2>`;
         sec.appendChild(makeTable(blocks,days));
         root.appendChild(sec);
     });
  })
  .catch(e=>document.getElementById('root').textContent='⚠ '+e);

function makeTable(blocks,days){
  const t=document.createElement('table');
  const hr=t.insertRow(); hr.insertCell().outerHTML='<th>Day</th>';
  blocks.forEach(b=>hr.insertCell().outerHTML='<th>'+b.replace('-',' - ')+'</th>');
  DAYS.forEach(d=>{
     const tr=t.insertRow();
     tr.insertCell().outerHTML='<td class="day">'+d+'</td>';
     (days[d]||[]).forEach(c=>{
        const td=tr.insertCell(); if(c) td.textContent=c;
     });
  });
  return t;
}
</script>
</body>
</html>